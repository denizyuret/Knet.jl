<!DOCTYPE html>
<html lang="en"><head><meta charset="UTF-8"/><meta name="viewport" content="width=device-width, initial-scale=1.0"/><title>Examples · Knet.jl</title><link href="https://cdnjs.cloudflare.com/ajax/libs/normalize/4.2.0/normalize.min.css" rel="stylesheet" type="text/css"/><link href="https://cdnjs.cloudflare.com/ajax/libs/highlight.js/9.5.0/styles/default.min.css" rel="stylesheet" type="text/css"/><link href="https://fonts.googleapis.com/css?family=Lato|Ubuntu+Mono" rel="stylesheet" type="text/css"/><link href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/4.6.3/css/font-awesome.min.css" rel="stylesheet" type="text/css"/><link href="assets/documenter.css" rel="stylesheet" type="text/css"/><script>documenterBaseURL="."</script><script src="https://cdnjs.cloudflare.com/ajax/libs/require.js/2.2.0/require.min.js" data-main="assets/documenter.js"></script><script src="../versions.js"></script></head><body><nav class="toc"><h1>Knet.jl</h1><form class="search" action="search.html"><select id="version-selector" onChange="window.location.href=this.value"><option value="#" selected="selected" disabled="disabled">Version</option></select><input id="search-query" name="q" type="text" placeholder="Search docs"/></form><ul><li><a class="toctext" href="index.html">Home</a></li><li><span class="toctext">Manual</span><ul><li><a class="toctext" href="install.html">Setting up Knet</a></li><li><a class="toctext" href="tutorial.html">Introduction to Knet</a></li><li class="current"><a class="toctext" href="examples.html">Examples</a><ul class="internal"><li><a class="toctext" href="#LinReg-1">LinReg</a></li><li><a class="toctext" href="#Housing-1">Housing</a></li><li><a class="toctext" href="#MNIST-1">MNIST</a></li><li><a class="toctext" href="#LeNet-1">LeNet</a></li><li><a class="toctext" href="#CharLM-1">CharLM</a></li><li><a class="toctext" href="#VGG-1">VGG</a></li><li><a class="toctext" href="#ResNet-1">ResNet</a></li><li><a class="toctext" href="#Optimizers-1">Optimizers</a></li><li><a class="toctext" href="#Hyperband-1">Hyperband</a></li><li><a class="toctext" href="#Overfitting,-underfitting,-regularization,-dropout-1">Overfitting, underfitting, regularization, dropout</a></li></ul></li><li><a class="toctext" href="reference.html">Reference</a></li></ul></li><li><span class="toctext">Textbook</span><ul><li><a class="toctext" href="backprop.html">Backpropagation</a></li><li><a class="toctext" href="softmax.html">Softmax Classification</a></li><li><a class="toctext" href="mlp.html">Multilayer Perceptrons</a></li><li><a class="toctext" href="cnn.html">Convolutional Neural Networks</a></li><li><a class="toctext" href="rnn.html">Recurrent Neural Networks</a></li><li><a class="toctext" href="rl.html">Reinforcement Learning</a></li><li><a class="toctext" href="opt.html">Optimization</a></li><li><a class="toctext" href="gen.html">Generalization</a></li></ul></li></ul></nav><article id="docs"><header><nav><ul><li>Manual</li><li><a href="examples.html">Examples</a></li></ul><a class="edit-page" href="https://github.com/denizyuret/Knet.jl/tree/0c58738bcd7642fd8608a2c8a9947a373dcd6081/docs/src/examples.md"><span class="fa"></span> Edit on GitHub</a></nav><hr/></header><h1><a class="nav-anchor" id="Examples-1" href="#Examples-1">Examples</a></h1><p>The following examples can be found in the <a href="https://github.com/denizyuret/Knet.jl/tree/master/examples">Knet/examples</a> directory.</p><h2><a class="nav-anchor" id="LinReg-1" href="#LinReg-1">LinReg</a></h2><section class="docstring"><div class="docstring-header"><a class="docstring-binding" id="LinReg" href="#LinReg"><code>LinReg</code></a> — <span class="docstring-category">Module</span>.</div><div><p>LinReg is a simple linear regression example using artificially generated data. You can run the demo using <code>julia linreg.jl</code> on the command line or <code>julia&gt; LinReg.main()</code> at the Julia prompt.  Use <code>julia linreg.jl --help</code> or <code>julia&gt; LinReg.main(&quot;--help&quot;)</code> for a list of options.  The quadratic loss will be printed at every epoch and optimized parameters will be returned.</p></div><a class="source-link" target="_blank" href="https://github.com/denizyuret/Knet.jl/tree/0c58738bcd7642fd8608a2c8a9947a373dcd6081/examples/linreg.jl#L5-L14">source</a><br/></section><h2><a class="nav-anchor" id="Housing-1" href="#Housing-1">Housing</a></h2><section class="docstring"><div class="docstring-header"><a class="docstring-binding" id="Housing" href="#Housing"><code>Housing</code></a> — <span class="docstring-category">Module</span>.</div><div><p>This example uses the <a href="https://archive.ics.uci.edu/ml/datasets/Housing">Housing</a> dataset from the UCI Machine Learning Repository to demonstrate a linear regression model. The dataset has housing related information for 506 neighborhoods in Boston from 1978. Each neighborhood has 14 attributes, the goal is to use the first 13, such as average number of rooms per house, or distance to employment centers, to predict the 14’th attribute: median dollar value of the houses.</p><p>You can run the demo using <code>julia housing.jl</code>.  Use <code>julia housing.jl --help</code> for a list of options.  The dataset will be automatically downloaded and randomly split into training and test sets.  The quadratic loss for the training and test sets will be printed at every epoch and optimized parameters will be returned.</p></div><a class="source-link" target="_blank" href="https://github.com/denizyuret/Knet.jl/tree/0c58738bcd7642fd8608a2c8a9947a373dcd6081/examples/housing.jl#L5-L21">source</a><br/></section><h2><a class="nav-anchor" id="MNIST-1" href="#MNIST-1">MNIST</a></h2><section class="docstring"><div class="docstring-header"><a class="docstring-binding" id="MNIST" href="#MNIST"><code>MNIST</code></a> — <span class="docstring-category">Module</span>.</div><div><p>This example learns to classify hand-written digits from the <a href="http://yann.lecun.com/exdb/mnist">MNIST</a> dataset.  There are 60000 training and 10000 test examples. Each input x consists of 784 pixels representing a 28x28 image.  The pixel values are normalized to [0,1]. Each output y is converted to a ten-dimensional one-hot vector (a vector that has a single non-zero component) indicating the correct class (0-9) for a given image.  10 is used to represent 0.</p><p>You can run the demo using <code>julia mnist.jl</code> on the command line or <code>julia&gt; MNIST.main()</code> at the Julia prompt.  Options can be used like <code>julia mnist.jl --epochs 3</code> or <code>julia&gt; MNIST.main(&quot;--epochs 3&quot;)</code>.  Use <code>julia mnist.jl --help</code> for a list of options.  The dataset will be automatically downloaded.  By default a softmax model will be trained for 10 epochs.  You can also train a multi-layer perceptron by specifying one or more –hidden sizes.  The accuracy for the training and test sets will be printed at every epoch and optimized parameters will be returned.</p></div><a class="source-link" target="_blank" href="https://github.com/denizyuret/Knet.jl/tree/0c58738bcd7642fd8608a2c8a9947a373dcd6081/examples/mnist.jl#L5-L25">source</a><br/></section><h2><a class="nav-anchor" id="LeNet-1" href="#LeNet-1">LeNet</a></h2><section class="docstring"><div class="docstring-header"><a class="docstring-binding" id="LeNet" href="#LeNet"><code>LeNet</code></a> — <span class="docstring-category">Module</span>.</div><div><p>This example learns to classify hand-written digits from the <a href="http://yann.lecun.com/exdb/mnist">MNIST</a> dataset.  There are 60000 training and 10000 test examples. Each input x consists of 784 pixels representing a 28x28 image.  The pixel values are normalized to [0,1]. Each output y is converted to a ten-dimensional one-hot vector (a vector that has a single non-zero component) indicating the correct class (0-9) for a given image.  10 is used to represent 0.</p><p>You can run the demo using <code>julia lenet.jl</code> at the command line or <code>julia&gt; LeNet.main()</code> at the Julia prompt.  Use <code>julia lenet.jl --help</code> or <code>julia&gt; LeNet.main(&quot;--help&quot;)</code> for a list of options.  The dataset will be automatically downloaded.  By default the <a href="http://yann.lecun.com/exdb/lenet">LeNet</a> convolutional neural network model will be trained for 10 epochs.  The accuracy for the training and test sets will be printed at every epoch and optimized parameters will be returned.</p></div><a class="source-link" target="_blank" href="https://github.com/denizyuret/Knet.jl/tree/0c58738bcd7642fd8608a2c8a9947a373dcd6081/examples/lenet.jl#L7-L26">source</a><br/></section><h2><a class="nav-anchor" id="CharLM-1" href="#CharLM-1">CharLM</a></h2><section class="docstring"><div class="docstring-header"><a class="docstring-binding" id="CharLM" href="#CharLM"><code>CharLM</code></a> — <span class="docstring-category">Module</span>.</div><div><p>This example implements an LSTM network for training and testing character-level language models inspired by <a href="http://karpathy.github.io/2015/05/21/rnn-effectiveness">&quot;The Unreasonable Effectiveness of Recurrent Neural Networks&quot;</a> from the Andrej Karpathy blog.  The model can be trained with different genres of text, and can be used to generate original text in the same style.</p><p>Example usage:</p><ul><li><p><code>julia charlm.jl</code>: trains a model using its own code.</p></li><li><p><code>julia charlm.jl --data foo.txt</code>: uses foo.txt to train instead.</p></li><li><p><code>julia charlm.jl --data foo.txt bar.txt</code>: uses foo.txt for training and bar.txt for validation.  Any number of files can be specified, the first two will be used for training and validation, the rest for testing.</p></li><li><p><code>julia charlm.jl --best foo.jld --save bar.jld</code>: saves the best model (according to validation set) to foo.jld, last model to bar.jld.</p></li><li><p><code>julia charlm.jl --load foo.jld --generate 1000</code>: generates 1000 characters from the model in foo.jld.</p></li><li><p><code>julia charlm.jl --help</code>: describes all available options.</p></li></ul></div><a class="source-link" target="_blank" href="https://github.com/denizyuret/Knet.jl/tree/0c58738bcd7642fd8608a2c8a9947a373dcd6081/examples/charlm.jl#L5-L35">source</a><br/></section><h2><a class="nav-anchor" id="VGG-1" href="#VGG-1">VGG</a></h2><section class="docstring"><div class="docstring-header"><a class="docstring-binding" id="VGG" href="#VGG"><code>VGG</code></a> — <span class="docstring-category">Module</span>.</div><div><p>julia vgg.jl image-file-or-url</p><p>This example implements the VGG model from `Very Deep Convolutional Networks for Large-Scale Image Recognition&#39;, Karen Simonyan and Andrew Zisserman, arXiv technical report 1409.1556, 2014. This example works for D and E models currently. VGG-D is the default model if you do not specify any model.</p><ul><li><p>Paper url: https://arxiv.org/abs/1409.1556</p></li><li><p>Project page: http://www.robots.ox.ac.uk/~vgg/research/very_deep</p></li><li><p>MatConvNet weights used here: http://www.vlfeat.org/matconvnet/pretrained</p></li></ul></div><a class="source-link" target="_blank" href="https://github.com/denizyuret/Knet.jl/tree/0c58738bcd7642fd8608a2c8a9947a373dcd6081/examples/vgg.jl#L5-L19">source</a><br/></section><h2><a class="nav-anchor" id="ResNet-1" href="#ResNet-1">ResNet</a></h2><section class="docstring"><div class="docstring-header"><a class="docstring-binding" id="ResNet" href="#ResNet"><code>ResNet</code></a> — <span class="docstring-category">Module</span>.</div><div><p>julia resnet.jl image-file-or-url</p><p>This example implements the ResNet-50, ResNet-101 and ResNet-152 models from &#39;Deep Residual Learning for Image Regocnition&#39;, Kaiming He, Xiangyu Zhang, Shaoqing Ren, Jian Sun, arXiv technical report 1512.03385, 2015.</p><ul><li><p>Paper url: https://arxiv.org/abs/1512.03385</p></li><li><p>Project page: https://github.com/KaimingHe/deep-residual-networks</p></li><li><p>MatConvNet weights used here: http://www.vlfeat.org/matconvnet/pretrained</p></li></ul></div><a class="source-link" target="_blank" href="https://github.com/denizyuret/Knet.jl/tree/0c58738bcd7642fd8608a2c8a9947a373dcd6081/examples/resnet.jl#L7-L19">source</a><br/></section><h2><a class="nav-anchor" id="Optimizers-1" href="#Optimizers-1">Optimizers</a></h2><section class="docstring"><div class="docstring-header"><a class="docstring-binding" id="Optimizers" href="#Optimizers"><code>Optimizers</code></a> — <span class="docstring-category">Module</span>.</div><div><p>This example demonstrates the usage of stochastic gradient descent(sgd) based optimization methods. We train LeNet model on MNIST dataset similar to <code>lenet.jl</code>.</p><p>You can run the demo using <code>julia optimizers.jl</code>.  Use <code>julia optimizers.jl --help</code> for a list of options. By default the <a href="http://yann.lecun.com/exdb/lenet">LeNet</a> convolutional neural network model will be trained using sgd for 10 epochs. At the end of the training accuracy for the training and test sets for each epoch will be printed  and optimized parameters will be returned.</p></div><a class="source-link" target="_blank" href="https://github.com/denizyuret/Knet.jl/tree/0c58738bcd7642fd8608a2c8a9947a373dcd6081/examples/optimizers.jl#L8-L19">source</a><br/></section><h2><a class="nav-anchor" id="Hyperband-1" href="#Hyperband-1">Hyperband</a></h2><section class="docstring"><div class="docstring-header"><a class="docstring-binding" id="hyperband" href="#hyperband"><code>hyperband</code></a> — <span class="docstring-category">Function</span>.</div><div><pre><code class="language-none">hyperband(getconfig, getloss, maxresource=27, reduction=3)</code></pre><p>Hyperparameter optimization using the hyperband algorithm from (<a href="https://arxiv.org/abs/1603.06560">Lisha et al. 2016</a>). You can try a simple MNIST example using <code>hyperband(getconfig1,getloss1)</code> after loading this example.</p><p><strong>Arguments</strong></p><ul><li><p><code>getconfig()</code> returns random configurations with a user defined type and distribution.</p></li><li><p><code>getloss(c,n)</code> returns loss for configuration <code>c</code> and number of resources (e.g. epochs) <code>n</code>.</p></li><li><p><code>maxresource</code> is the maximum number of resources any one configuration should be given.</p></li><li><p><code>reduction</code> is an algorithm parameter (see paper), 3 is a good value.</p></li></ul></div><a class="source-link" target="_blank" href="https://github.com/denizyuret/Knet.jl/tree/0c58738bcd7642fd8608a2c8a9947a373dcd6081/examples/hyperband.jl#L4-L17">source</a><br/></section><h2><a class="nav-anchor" id="Overfitting,-underfitting,-regularization,-dropout-1" href="#Overfitting,-underfitting,-regularization,-dropout-1">Overfitting, underfitting, regularization, dropout</a></h2><p><a href="https://github.com/denizyuret/Knet.jl/tree/master/examples/softmax.ipynb">softmax.ipynb</a> is an IJulia notebook demonstrating overfitting, underfitting, regularization, and dropout.</p><footer><hr/><a class="previous" href="tutorial.html"><span class="direction">Previous</span><span class="title">Introduction to Knet</span></a><a class="next" href="reference.html"><span class="direction">Next</span><span class="title">Reference</span></a></footer></article></body></html>
