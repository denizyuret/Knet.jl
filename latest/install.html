<!DOCTYPE html>
<html lang="en"><head><meta charset="UTF-8"/><meta name="viewport" content="width=device-width, initial-scale=1.0"/><title>Setting up Knet · Knet.jl</title><link href="https://cdnjs.cloudflare.com/ajax/libs/normalize/4.2.0/normalize.min.css" rel="stylesheet" type="text/css"/><link href="https://fonts.googleapis.com/css?family=Lato|Roboto+Mono" rel="stylesheet" type="text/css"/><link href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/4.6.3/css/font-awesome.min.css" rel="stylesheet" type="text/css"/><script>documenterBaseURL="."</script><script src="https://cdnjs.cloudflare.com/ajax/libs/require.js/2.2.0/require.min.js" data-main="assets/documenter.js"></script><script src="siteinfo.js"></script><script src="../versions.js"></script><link href="assets/highlightjs/default.css" rel="stylesheet" type="text/css"/><link href="assets/documenter.css" rel="stylesheet" type="text/css"/></head><body><nav class="toc"><h1>Knet.jl</h1><select id="version-selector" onChange="window.location.href=this.value" style="visibility: hidden"></select><form class="search" action="search.html"><input id="search-query" name="q" type="text" placeholder="Search docs"/></form><ul><li><a class="toctext" href="index.html">Home</a></li><li><span class="toctext">Manual</span><ul><li class="current"><a class="toctext" href="install.html">Setting up Knet</a><ul class="internal"><li><a class="toctext" href="#Installation-1">Installation</a></li><li><a class="toctext" href="#Tips-for-developers-1">Tips for developers</a></li><li><a class="toctext" href="#Using-Amazon-AWS-1">Using Amazon AWS</a></li></ul></li><li><a class="toctext" href="tutorial.html">Introduction to Knet</a></li><li><a class="toctext" href="examples.html">Examples</a></li><li><a class="toctext" href="reference.html">Reference</a></li></ul></li><li><span class="toctext">Textbook</span><ul><li><a class="toctext" href="backprop.html">Backpropagation</a></li><li><a class="toctext" href="softmax.html">Softmax Classification</a></li><li><a class="toctext" href="mlp.html">Multilayer Perceptrons</a></li><li><a class="toctext" href="cnn.html">Convolutional Neural Networks</a></li><li><a class="toctext" href="rnn.html">Recurrent Neural Networks</a></li><li><a class="toctext" href="rl.html">Reinforcement Learning</a></li><li><a class="toctext" href="opt.html">Optimization</a></li><li><a class="toctext" href="gen.html">Generalization</a></li></ul></li></ul></nav><article id="docs"><header><nav><ul><li>Manual</li><li><a href="install.html">Setting up Knet</a></li></ul><a class="edit-page" href="https://github.com/denizyuret/Knet.jl/tree/344b3ba87a60a66367de852a8d8bf02fc986104b/docs/src/install.md"><span class="fa"></span> Edit on GitHub</a></nav><hr/><div id="topbar"><span>Setting up Knet</span><a class="fa fa-bars" href="#"></a></div></header><h1><a class="nav-anchor" id="Setting-up-Knet-1" href="#Setting-up-Knet-1">Setting up Knet</a></h1><p>Knet.jl is a deep learning package implemented in Julia, so you should be able to run it on any machine that can run Julia. It has been extensively tested on Linux machines with NVIDIA GPUs and CUDA libraries, but most of it works on vanilla Linux and OSX machines as well (currently cpu-only support for some operations is incomplete). If you would like to try it on your own computer, please follow the instructions on <a href="install.html#Installation-1">Installation</a>. If you would like to try working with a GPU and do not have access to one, take a look at <a href="install.html#Using-Amazon-AWS-1">Using Amazon AWS</a>. If you find a bug, please open a <a href="https://github.com/denizyuret/Knet.jl/issues">GitHub issue</a>. If you would like to contribute to Knet, see <a href="install.html#Tips-for-developers-1">Tips for developers</a>. If you need help, or would like to request a feature, please consider joining the <a href="https://groups.google.com/forum/#!forum/knet-users">knet-users</a> mailing list.</p><h2><a class="nav-anchor" id="Installation-1" href="#Installation-1">Installation</a></h2><p>First download and install the latest version of Julia from <a href="http://julialang.org/downloads">julialang.org</a>. As of this writing the latest version is 0.5.0 and I have tested Knet using 64-bit Generic Linux binaries and the Mac OS X package (dmg). Once Julia is installed, type <code>julia</code> at the command prompt to start the Julia interpreter. To install Knet just use <code>Pkg.add(&quot;Knet&quot;)</code>:</p><pre><code class="language-none">$ julia
               _
   _       _ _(_)_     |  A fresh approach to technical computing
  (_)     | (_) (_)    |  Documentation: http://docs.julialang.org
   _ _   _| |_  __ _   |  Type &quot;?help&quot; for help.
  | | | | | | |/ _` |  |
  | | |_| | | | (_| |  |  Version 0.5.0 (2016-09-19 18:14 UTC)
 _/ |\__&#39;_|_|_|\__&#39;_|  |  Official http://julialang.org/ release
|__/                   |  x86_64-apple-darwin13.4.0

julia&gt; Pkg.add(&quot;Knet&quot;)</code></pre><p>Some Knet examples use additional packages such as ArgParse, GZip and JLD. These are not required by Knet, and are installed automatically when needed. You can install any extra packages manually using Pkg.add(&quot;PkgName&quot;).</p><p>To make sure everything has installed correctly, type <code>Pkg.test(&quot;Knet&quot;)</code> which should take a minute kicking the tires. You may need to run <code>Pkg.build(&quot;Knet&quot;)</code> to make sure the CUDA kernels are up to date when using a GPU.  If all is OK, continue with the next section, if not you can get help at the <a href="https://groups.google.com/forum/#!forum/knet-users">knet-users</a> mailing list.</p><h3><a class="nav-anchor" id="Installation-problems-1" href="#Installation-problems-1">Installation problems</a></h3><p>Sometimes when Knet or CUDA libraries are updated or moved, the precompiled binaries get out of sync and you may get errors like:</p><pre><code class="language-none">ccall: could not find function xxx in library libknet8.so</code></pre><p>I recommend the following steps to refresh everything:</p><pre><code class="language-none">shell&gt; rm ~/.julia/lib/v0.5/*.ji
shell&gt; cd ~/.julia/v0.5/Knet/src
shell&gt; make clean; make
shell&gt; julia
julia&gt; Pkg.build(&quot;Knet&quot;)</code></pre><p>This refreshes all precompiled binaries and should typically solve the problem. If problems continue, you can get support from <a href="https://groups.google.com/forum/#!forum/knet-users">knet-users</a>.</p><h2><a class="nav-anchor" id="Tips-for-developers-1" href="#Tips-for-developers-1">Tips for developers</a></h2><p>Knet is an open-source project and we are always open to new contributions: bug fixes, new machine learning models and operators, inspiring examples, benchmarking results are all welcome. If you&#39;d like to contribute to the code base, please sign up at the <a href="https://groups.google.com/forum/#!forum/knet-dev">knet-dev</a> mailing list and follow these tips:</p><ul><li><p>Please get an account at <a href="https://www.github.com">github.com</a>.</p></li><li><p><a href="https://help.github.com/articles/fork-a-repo">Fork</a> the <a href="https://github.com/denizyuret/Knet.jl">Knet   repository</a>.</p></li><li><p>Point Julia to your fork using   <code>Pkg.clone(&quot;git@github.com:your-username/Knet.jl.git&quot;)</code> and   <code>Pkg.build(&quot;Knet&quot;)</code>. You may want to remove any old versions with   <code>Pkg.rm(&quot;Knet&quot;)</code> first.</p></li><li><p>Make sure your <a href="https://help.github.com/articles/syncing-a-fork">fork is   up-to-date</a>.</p></li><li><p>Retrieve the latest version of the master branch using   <code>Pkg.checkout(&quot;Knet&quot;)</code>.</p></li><li><p>Implement your contribution.  This typically involves:</p><ul><li><p>Writing your code.</p></li><li><p>Adding documentation under doc/src and a summary in NEWS.md.</p></li><li><p>Adding unit tests in the test directory and using <code>Pkg.test(&quot;Knet&quot;)</code>.</p></li></ul></li><li><p>Please submit your contribution using a <a href="https://help.github.com/articles/using-pull-requests">pull   request</a>.</p></li></ul><h2><a class="nav-anchor" id="Using-Amazon-AWS-1" href="#Using-Amazon-AWS-1">Using Amazon AWS</a></h2><p>If you don&#39;t have access to a GPU machine, but would like to experiment with one, <a href="https://aws.amazon.com">Amazon Web Services</a> is a possible solution. I have prepared a machine image (<a href="http://docs.aws.amazon.com/AWSEC2/latest/UserGuide/AMIs.html">AMI</a>) with everything you need to run Knet. Here are step by step instructions for launching a GPU instance with a Knet image:</p><p>1. First, you need to sign up and create an account following the instructions on <a href="https://docs.aws.amazon.com/AWSEC2/latest/UserGuide/get-set-up-for-amazon-ec2.html">Setting Up with Amazon EC2</a>. Once you have an account, open the <a href="https://console.aws.amazon.com/ec2">Amazon EC2 console</a> and login. You should see the following screen:</p><p><img src="images/aws01.png" alt="image"/></p><p>2. Make sure you select the &quot;N. California&quot; region in the upper right corner, then click on AMIs on the lower left menu. At the search box, choose &quot;Public images&quot; and search for &quot;Knet&quot;. Click on the latest Knet image (Knet-0.8.1 as of this writing). You should see the following screen with information about the Knet AMI. Click on the &quot;Launch&quot; button on the upper left.</p><p><img src="images/aws02.png" alt="image"/></p><p>Note: Instead of &quot;Launch&quot;, you may want to experiment with &quot;<a href="https://aws.amazon.com/ec2/spot/pricing">Spot Request</a>&quot; under &quot;Actions&quot; to get a lower price. You may also qualify for an <a href="https://aws.amazon.com/grants">educational grant</a> if you are a student or researcher.</p><p>3. You should see the &quot;Step 2: Choose an Instance Type&quot; page. Next to &quot;Filter by:&quot; change &quot;All instance types&quot; to &quot;GPU instances&quot;. This should reduce the number of instance types displayed to a few. Pick the &quot;g2.2xlarge&quot; instance (&quot;g2.8xlarge&quot; has multiple GPUs and is more expensive) and click on &quot;Review and Launch&quot;.</p><p><img src="images/aws03.png" alt="image"/></p><p>4. This should take you to the &quot;Step 7: Review Instance Launch&quot; page. You can just click &quot;Launch&quot; here:</p><p><img src="images/aws04.png" alt="image"/></p><p>5. You should see the &quot;key pair&quot; pop up menu. In order to login to your instance, you need an ssh key pair. If you have created a pair during the initial setup you can use it with &quot;Choose an existing key pair&quot;. Otherwise pick &quot;Create a new key pair&quot; from the pull down menu, enter a name for it, and click &quot;Download Key Pair&quot;. Make sure you keep the downloaded file, we will use it to login. After making sure you have the key file (it has a .pem extension), click &quot;Launch Instances&quot; on the lower right.</p><p><img src="images/aws05.png" alt="image"/></p><p>6. We have completed the request. You should see the &quot;Launch Status&quot; page. Click on your instance id under &quot;Your instances are launching&quot;:</p><p><img src="images/aws06.png" alt="image"/></p><p>7. You should be taken to the &quot;Instances&quot; screen and see the address of your instance where it says something like &quot;Public DNS: ec2-54-153-5-184.us-west-1.compute.amazonaws.com&quot;.</p><p><img src="images/aws07.png" alt="image"/></p><p>8.  Open up a terminal (or Putty if you are on Windows) and type:</p><pre><code class="language-none">    ssh -i knetkey.pem ec2-user@ec2-54-153-5-184.us-west-1.compute.amazonaws.com</code></pre><p>Replacing <code>knetkey.pem</code> with the path to your key file and <code>ec2-54-153-5-184</code> with the address of your machine. If all goes well you should get a shell prompt on your machine instance.</p><p>9. There you can type <code>julia</code>, and at the julia prompt <code>Pkg.update()</code> and <code>Pkg.build(&quot;Knet&quot;)</code> to get the latest versions of the packages, as the versions in the AMI may be out of date:</p><pre><code class="language-none">[ec2-user@ip-172-31-6-90 ~]$ julia
               _
   _       _ _(_)_     |  A fresh approach to technical computing
  (_)     | (_) (_)    |  Documentation: http://docs.julialang.org
   _ _   _| |_  __ _   |  Type &quot;?help&quot; for help.
  | | | | | | |/ _` |  |
  | | |_| | | | (_| |  |  Version 0.4.2 (2015-12-06 21:47 UTC)
 _/ |\__&#39;_|_|_|\__&#39;_|  |  Official http://julialang.org/ release
|__/                   |  x86_64-unknown-linux-gnu

WARNING: Terminal not fully functional
julia&gt; Pkg.update()
julia&gt; Pkg.build(&quot;Knet&quot;)</code></pre><p>Finally you can run <code>Pkg.test(&quot;Knet&quot;)</code> to make sure all is good. This should take about a minute. If all tests pass, you are ready to work with Knet:</p><pre><code class="language-none">julia&gt; Pkg.test(&quot;Knet&quot;)
INFO: Testing Knet
...
INFO: Knet tests passed

julia&gt;</code></pre><footer><hr/><a class="previous" href="index.html"><span class="direction">Previous</span><span class="title">Home</span></a><a class="next" href="tutorial.html"><span class="direction">Next</span><span class="title">Introduction to Knet</span></a></footer></article></body></html>
